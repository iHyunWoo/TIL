# HTTPS
기존 HTTP의 문제점
- 평문으로 통신하기 때문에 도청이 가능
- 통신 상대를 확인하지 않기에 위장이 가능

## HTTPS란
HTTPS는 HTTP + TLS/SSL의 조합
- HTTP: 웹 서버와 클라이언트(브라우저) 간의 요청 및 응답 형식을 정의
- TLS/SSL: 
	- TLS(Transport Layer Security) 또는 이전 버전인 SSL(Secure Sockets Layer)
	- 데이터 암호화, 인증, 무결성 보호를 담당
HTTPS는 HTTP 메시지를 TLS/SSL 터널을 통해 전송함으로써, 데이터가 중간에 도청되거나 변조되는 것을 방지

## 공개키와 대칭키 암호화
- 공개키 암호화
    - 서버는 공개키와 비밀키 쌍을 가지고 있으며, 공개키는 누구나 볼 수 있도록 공개
     - 이를 통해 안전하게 대칭키(세션 키)를 교환 할 수 있음
- 대칭키 암호화
    - 실제 데이터 전송 시에는 공개키 암호화보다 빠른 대칭키 암호화를 사용하여 데이터를 암호
	- 이 대칭키는 TLS 핸드셰이크 과정에서 안전하게 교환됩니다.

## HTTPS의 동작 방식
1. 서버는 CA에게 자신의 공개키를 전달
2. CA는 서버의 공개키를 CA의 개인키로 인증서에 서명 → SSL 인증서
3. 클라이언트가 서버로 연결을 시도(Client Hello)
4. 서버는 이 SSL 인증서를 클라이언트에게 보냄(Server Hello)
5. 클라이언트의 브라우저에는 기본적으로 CA의 공개키 정보가 있음
6. 서버에서 받은 SSL 인증서를 CA의 공개키로 복호화. CA에서 인증받지 않은 인증서는 복호화에 실패하여 신뢰 불가
7. 클라이언트에서 데이터를 암호화하기 위한 대칭키를 생성하고, 서버의 공개키로 이 대칭키를 암호화
8. 서버로 암호화된 대칭키를 전달
9. 서버는 개인키로 복화하여 대칭키를 얻음
10. 이 대칭키(세션키)로 암호화된 메시지를 주고 받음
![[https.png]]

## Reference
- [그림으로 쉽게 보는 HTTPS, SSL, TLS](https://brunch.co.kr/@swimjiy/47)
- [HTTPS 통신 동작 원리 (SSL, TLS)](https://kdeon.tistory.com/132)